webpackJsonp([13],{r5d9:function(r,t){},wJzi:function(r,t,e){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n={render:function(){var r=this,t=r.$createElement,e=r._self._c||t;return e("div",{attrs:{id:"http"}},[e("div",{staticClass:"bground"},[e("div",{staticClass:"title"},[r._v("http")]),r._v(" "),e("div",{staticClass:"line"}),r._v(" "),e("div",{staticClass:"content"},[e("div",[r._v("http模块基于axios模块和RESTful规范，模块封装了增删改查功能，主要实现了对后台api请求功能。http模块位于：root/src/assets/js/http.js：")]),r._v(" "),e("div",{staticClass:"code-title"}),r._v(" "),e("div",{staticClass:"md"},[e("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[e("code",{staticClass:"javascript"},[r._v("// http.js\r\nimport vue from 'vue';\r\nimport axios from 'axios';\r\n\r\n/**\r\n * Get\r\n * {String} url：地址\r\n * {String} query：参数\r\n */\r\nexport const _get = ({url, query}, commit) => {\r\n\treturn axios({\r\n\t\tmethod: 'get',\r\n\t\turl,\r\n\t\tparams: { ...query}\r\n\t}).then((res) => {\r\n\t\tif(res.status >= 200 && res.status < 300) {\r\n\t\t\treturn res.data\r\n\t\t}\r\n\t\treturn Promise.reject(res)\r\n\t}, (err) => {\r\n\t\treturn Promise.reject(err.message || err.data);\r\n\t});\r\n};\r\n\r\n/**\r\n * Post\r\n * {String} url：地址\r\n * {String} body：参数\r\n */\r\nexport const _post = ({url, body}, commit) => {\r\n\treturn axios({\r\n\t\tmethod: 'post',\r\n\t\turl,\r\n\t\tdata: { ...body}\r\n\t}).then((res) => {\r\n\t\tif(res.status >= 200 && res.status < 300) {\r\n\t\t\treturn res.data\r\n\t\t}\r\n\t\treturn Promise.reject(res);\r\n\t}, (err) => {\r\n\t\treturn Promise.reject(err.message || err.data);\r\n\t});\r\n};\r\n\r\n/**\r\n * Delete\r\n * {String} url：地址\r\n * {String} body：参数\r\n */\r\nexport const _delete = ({url, body}, commit) => {\r\n\treturn axios({\r\n\t\tmethod: 'delete',\r\n\t\turl,\r\n\t\tdata: { ...body}\r\n\t}).then((res) => {\r\n\t\tif(res.status >= 200 && res.status < 300) {\r\n\t\t\treturn res.data\r\n\t\t}\r\n\t\treturn Promise.reject(res);\r\n\t}, (err) => {\r\n\t\treturn Promise.reject(err.message || err.data);\r\n\t});\r\n};\r\n\r\n/**\r\n * Put\r\n * 用于更新操作时，需传递包含sql记录的全部字段的对象，否则缺少的属性该字段将在数据库置空。\r\n * {String} url：地址\r\n * {String} body：参数\r\n */\r\nexport const _put = ({url, body}, commit) => {\r\n\treturn axios({\r\n\t\tmethod: 'put',\r\n\t\turl,\r\n\t\tdata: { ...body}\r\n\t}).then((res) => {\r\n\t\tif(res.status >= 200 && res.status < 300) {\r\n\t\t\treturn res.data\r\n\t\t}\r\n\t\treturn Promise.reject(res);\r\n\t}, (err) => {\r\n\t\treturn Promise.reject(err.message || err.data);\r\n\t});\r\n};\r\n\r\n/**\r\n * Patch\r\n * 用于更新操作时，需传递包含sql记录的部分字段的对象且只更新该部分字段内容。\r\n * {String} url：地址\r\n * {String} body：参数\r\n */\r\nexport const _patch = ({url, body}, commit) => {\r\n\treturn axios({\r\n\t\tmethod: 'patch',\r\n\t\turl,\r\n\t\tdata: { ...body}\r\n\t}).then((res) => {\r\n\t\tif(res.status >= 200 && res.status < 300) {\r\n\t\t\treturn res.data\r\n\t\t}\r\n\t\treturn Promise.reject(res);\r\n\t}, (err) => {\r\n\t\treturn Promise.reject(err.message || err.data);\r\n\t});\r\n};")])])]),r._v(" "),e("div",{staticClass:"code-title"},[r._v("http模块调用：")]),r._v(" "),e("div",{staticClass:"md"},[e("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[e("code",{staticClass:"javascript"},[r._v('// 事件触发\r\nlet param = {};\r\nthis.$store.dispatch("getJson", param).then((json) => {\r\n\tconsole.log(json);\r\n}, (error) => {\r\n\tconsole.log(error);\r\n});\r\n\r\n// 事件处理(src/vuex/modules/app/action.js) \r\nimport { _get } from "@/assets/js/http";\r\n\r\nlet _prefix = ``; // 请求前缀\r\nexport const getJson = ({\r\n\tcommit\r\n}, query) => {\r\n\tconst url = `${_prefix}/mockGetJson`;\r\n\treturn _get({url, query}, commit)\r\n\t.then(json => {\r\n\t\treturn Promise.resolve(json);\r\n\t})\r\n\t.catch(error => {\r\n\t\treturn Promise.reject(error);\r\n\t});\r\n};')])])])])])])},staticRenderFns:[]};var s=e("C7Lr")({name:"http"},n,!1,function(r){e("r5d9")},"data-v-7464275a",null);t.default=s.exports}});
//# sourceMappingURL=13.2ab2219142f1f4f32a44.js.map