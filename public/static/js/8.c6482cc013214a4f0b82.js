webpackJsonp([8],{"6rvO":function(t,r,e){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var s={render:function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("div",{attrs:{id:"proxy"}},[e("div",{staticClass:"bground"},[e("div",{staticClass:"title"},[t._v("proxy代理服务")]),t._v(" "),e("div",{staticClass:"line"}),t._v(" "),e("div",{staticClass:"content"},[e("div",[t._v("proxy代理服务是指通过配置实现访问非同域名下的API接口，仅用于开发环境。基于前后端分离原则，开发过程中联调时常常存在跨域请求的问题，使用proxy代理服务可以将请求模拟至同一域名下，解决了跨域联调问题。要使用代理服务，需要配置proxy项：")]),t._v(" "),e("div",{staticClass:"code-title"},[t._v("假设服务端的域名和端口为http://127.17.5.117:3000，打开config/index.js文件，配置proxyTable项如下：")]),t._v(" "),e("div",{staticClass:"md"},[e("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[e("code",{staticClass:"javascript"},[t._v("dev: {\r\n\t...\r\n\tproxyTable: {\r\n\t\t'/api': {\r\n\t\t\ttarget: 'http://127.17.5.117:3000',\r\n\t\t\tsecure: false,\r\n\t\t\tchangeOrigin: true,\r\n\t\t\tpathRewrite: {\r\n\t\t\t\t'^/api': ''\r\n\t\t\t},\r\n\t\t\tonProxyReq(proxyReq, req, res) {\r\n\t\t\t\tproxyReq.setHeader('Referer', 'http://127.17.5.117:3000');\r\n\t\t\t\tproxyReq.setHeader('Origin', 'http://127.17.5.117:3000');\r\n\t\t\t},\r\n\t\t\tonProxyRes(proxyRes, req, res) {\r\n\t\t\t\tproxyRes.headers['Access-Control-Request-Origin'] = '*';\r\n\t\t\t\tproxyRes.headers['Access-Control-Request-Headers'] = '*';\r\n\t\t\t}\r\n\t\t}\r\n\t},\r\n\t...\r\n}")])])]),t._v(" "),e("div",{staticClass:"code-title"},[t._v("配置后，重启项目，这样就可以实现跨域访问http://127.17.5.117:3000域名下的服务")]),t._v(" "),e("div",{staticClass:"md"},[e("pre",{directives:[{name:"highlightjs",rawName:"v-highlightjs"}]},[e("code",{staticClass:"javascript"},[t._v("import axios from 'axios'\r\n\r\nlet path = \"http://127.0.0.1/api/mockGetJson\"; // 实际访问：http://127.17.5.117:3000/api/mockGetJson\r\naxios.get(path).then(function(resp) {\r\n\tconsole.log(resp.data);\r\n}).catch(error => {\r\n\tconsole.log(error);\r\n});")])])])])])])},staticRenderFns:[]};var n=e("C7Lr")({name:"proxy"},s,!1,function(t){e("zzVr")},"data-v-e7f7a9dc",null);r.default=n.exports},zzVr:function(t,r){}});
//# sourceMappingURL=8.c6482cc013214a4f0b82.js.map